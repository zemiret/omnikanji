<!DOCTYPE html>
<html>
<head>
    <title>Omnikanji</title>
    <meta charset="utf-8"/>

    <link rel="stylesheet" href="/css/reset.css"/>
    <link rel="stylesheet" href="/css/main.css"/>
</head>
<body>

<div class="body-container">
    <section id="search-form-section">
        <form action="/search/">
            <label for="word-input">
            </label>
            <input name="word" id="word-input" class="word-input" type="text" placeholder="言葉" value="言葉"/>
            <input type="submit" value="Search"/>
        </form>
    </section>

    {{ if . }}
    {{ if .Error }}
    <section id="error-section">
    <h3 class="text-error">
       {{.Error}}
    </h3>
    </section>
    {{ else }}
        {{ if not (or .Jisho .Kanjidmg) }}
        <section>
            <h4>
                No results
            </h4>
        </section>
        {{ end }}
    {{ end }}


    {{ if .Jisho }}
    <section id="jisho-section">
        <h1 class="jisho-header">Jisho</h1>

        <div class="kanji-with-reading">
            <h1>{{.Jisho.WordSection.Word}}</h1>
            <h4>{{.Jisho.WordSection.Reading}}</h4>
        </div>

        <a href="{{.Jisho.Link}}">{{.Jisho.WordSection.Word}} at jisho.org</a>

        <ol>
            {{ range $idx, $m := .Jisho.WordSection.Meanings }}
            <li>
                <h4>{{$m.Meaning}}</h4>
                {{ if $m.Tags }}
                <span>{{ $m.Tags }}</span>
                {{ end }}
            </li>
            {{ end }}
        </ol>

        <aside>
            {{ range $idx, $k := .Jisho.Kanjis }}
            <div>
                <a href="{{$k.Kanji.Link}}">{{$k.Kanji.Word}}</a>
                <span>{{$k.Meaning}}</span>
                <span>
            Kun:
            {{ range $jdx, $r := $k.Kunyomis }}
            <a href="{{$r.Link}}">{{$r.Word}}</a>
            {{ end }}
        </span>

                <span>
            On:
            {{ range $jdx, $r := $k.Onyomis }}
            <a href="{{$r.Link}}">{{$r.Word}}</a>
            {{ end }}
        </span>
                {{ end }}
            </div>
        </aside>

    </section>
    {{ end }}

    {{ if .Kanjidmg }}
    <section id="kanjidmg-section">
        <h1>Kanjidamage</h1>

        {{ range $idx, $sect := .Kanjidmg }}
        <a href="{{$sect.WordSection.Link}}">{{$sect.WordSection.Kanji}} at kanjidamage.com</a>

        <h1>{{$sect.WordSection.Kanji}}</h1>
        <span>{{$sect.WordSection.Meaning}}</span>

        <ol>
            {{ range $jdx, $radical := $sect.Radicals }}
            <li>
                <a href="{{$radical.Link}}">
                    {{ if $radical.Kanji }}
                    <span>{{$radical.Kanji}} {{$radical.Meaning}}</span>
                    {{ else if $radical.KanjiImage }}
                    <span>
                    <img alt="{{$radical.Meaning}}" src="data:image/png;base64,{{$radical.KanjiImage}}"/>
                    {{$radical.Meaning}}
                </span>
                    {{ end }}
                </a>
            </li>
            {{ end }}
        </ol>

        <h2>Mnemonic</h2>
        <h3>{{$sect.Mnemonic}}</h3>

        <h2>Onyomi</h2>
        <h3>{{$sect.Onyomi}}</h3>

        {{ end }}
    </section>
    {{ end }}
    {{ end }}

</body>
</html>
</div>

